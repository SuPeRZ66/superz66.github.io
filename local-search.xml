<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>关于未来的思考</title>
    <link href="/2023/08/28/feturethinking/"/>
    <url>/2023/08/28/feturethinking/</url>
    
    <content type="html"><![CDATA[<h2 id="编程对于我的意义"><a href="#编程对于我的意义" class="headerlink" title="编程对于我的意义"></a>编程对于我的意义</h2><p>对于某些职业来说是和人打交道而程序员则是和电脑亦或者可以说和全人类打交道。<br>对我来说编程是解决问题的一种方式，我们把问题原子化，从而用代码完成一个一个小问题，最终解决一个大难题。完成一个困难的项目从中获得的成就感是无法言喻的，这种成就感是一种自我激励，让我不断前进。</p><h2 id="会写一辈子代码吗？"><a href="#会写一辈子代码吗？" class="headerlink" title="会写一辈子代码吗？"></a>会写一辈子代码吗？</h2><p>如果把编程当作职业那肯定不会写一辈子代码，但是如果把编程当作一种爱好，那么我会一直写下去。</p><h2 id="怎么看待-35-岁以后的编程生涯？"><a href="#怎么看待-35-岁以后的编程生涯？" class="headerlink" title="怎么看待 35 岁以后的编程生涯？"></a>怎么看待 35 岁以后的编程生涯？</h2><p>我觉得大多数行业都有年龄的限制，淘汰的不是年龄而是信息差以及对于编程的认知。如果把它当成赚钱的工具那么不说肯定但也一定很艰难。</p><h2 id="对于人生的看法"><a href="#对于人生的看法" class="headerlink" title="对于人生的看法"></a>对于人生的看法</h2><p>人都说三十而立，但我觉得我真的是立不起来，我既没有赚到钱也没有获得爱情，只是打得一手好键盘。好像人生下来就得获得所谓的成功，学业有成、事业有成、家庭美满…<br>或许我现在获得的已经很好了，人生过的好不好在于自己知不知足。</p><h2 id="今年的目标"><a href="#今年的目标" class="headerlink" title="今年的目标"></a>今年的目标</h2><p>我想去杭州、深圳旅游，我想带着我的电脑在海边。我想我的代码能帮助到别人。</p>]]></content>
    
    
    
    <tags>
      
      <tag>随笔</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>element plus部分组件在zoom下位置偏移问题</title>
    <link href="/2023/07/05/elementzoombug/"/>
    <url>/2023/07/05/elementzoombug/</url>
    
    <content type="html"><![CDATA[<h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>在高分屏的 win 系统中设置了系统缩放会使网页显示出现异常,所以我使用 zoom 属性根据系统的 dpr 进行缩放。在 zoom 的值不为 1 并且不在 body 或 html 元素上的时候，element plus 的日期组件以及 select 组件的弹窗位置会偏移。因为这些组件生成的 dom 是在 body 下的，所以无法通过父元素进行修正。</p><h2 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h2><p>设置 teleported 属性让生成的元素在 body 下，这样就可以通过父元素进行修正了。</p>]]></content>
    
    
    
    <tags>
      
      <tag>elementplus zoom</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>良好的git commit</title>
    <link href="/2023/04/04/gitcommit/"/>
    <url>/2023/04/04/gitcommit/</url>
    
    <content type="html"><![CDATA[<p>在实际开发中我们可能会忽视 git commit 的作用，仅仅以为它就是代码提交的一个注释。<br>良好的 commit 有助于代码查阅，对于开发或者管理都是非常有益的。</p><p>借鉴一些优秀开源项目的提交规范总结如下<br>[commit-type]:[content]</p><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs maxima">feat：新功能、新特性；<br><span class="hljs-built_in">fix</span>:  bug <span class="hljs-built_in">fix</span>；<br>perf：更改代码，以提高性能；<br>refactor：代码重构（重构，在不影响代码内部行为、功能下的代码修改）；<br>docs：文档修改；<br><span class="hljs-built_in">style</span>：代码格式修改, 此处不指代css之类的样式，而是格式或者排版；<br>test：测试用例新增、修改；<br>build：影响项目构建或依赖项修改；<br><span class="hljs-built_in">revert</span>：恢复上一次提交；<br>ci：持续集成相关文件修改；<br>chore：其他修改（不在上述类型中的修改）；<br>release：发布新版本；<br>workflow：工作流相关文件修改。<br></code></pre></td></tr></table></figure><p>例如 <code>feat:用户注册</code>就代表新增了用户注册功能，通过 commit 的类型前缀来快速判断这个功能干了什么</p><p>如果分的更加仔细可以在 commit 上带上模块信息<br>[commit-type] ([module]):[content]<br>例如<code>fix(user):修复登录异常</code></p>]]></content>
    
    
    
    <tags>
      
      <tag>git</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>观《保你平安》有感</title>
    <link href="/2023/03/12/posttruth/"/>
    <url>/2023/03/12/posttruth/</url>
    
    <content type="html"><![CDATA[<p>我感觉这部片子应该是近 2 年我看过最好的一部电影了。至少作为一部喜剧他是成功的，对于电影的核心思想的表达也是达标的。</p><p>但令人不解的是对于这样一部作品上座率居然很低。大鹏没有张艺谋有名，电影没有流浪地球那种特效抓人眼球。但不妨碍它是一部好的作品。</p><p>首先作为一部喜剧，它至少是搞笑的而且没有很刻意的去制造笑点，它所成现的搞笑氛围是一种舒适的，并没有强行煽情。这是近 2 年我看过所有喜剧类电影中做的最好的一个。</p><p>其次我觉得电影的核心思想是“做你觉得对的事情”。大鹏在电影中饰演一个很普通的人，为了自己心中所谓的正确而去做一些常人难以理解的事情。比如为了一面之缘的韩露证明清白，付出了很大的代价，最终找到了那个造谣的“键盘侠”。</p><p>网上有些影评说这些行为很假很不合理，但我认为这些东西出现在喜剧里就并没有那么的不合理。电影里当女儿做了心中所谓的正确的事情在学校里遭遇校园暴力后和男主打电话时，大鹏自称自己是“大傻子”，那一段剧情其实很搞笑又令人深思。</p><p>并不是所有人都能鼓起勇气当那个“大傻子”，坚持心中所谓的正确是有时候要付出代价的。你心中所谓的正确可能在别人看来屁都不是。电影中大鹏肯定是个好人，他做的好事也付出了“代价”。</p><p>在看这部片子的时候其实没那么多的感慨，因为确实它很搞笑。</p><p>回头细想，我却没勇气做一个“大傻子”。</p>]]></content>
    
    
    
    <tags>
      
      <tag>随笔</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>如何注册chatgpt</title>
    <link href="/2023/03/11/chatgptstart/"/>
    <url>/2023/03/11/chatgptstart/</url>
    
    <content type="html"><![CDATA[<h2 id="如何注册-chatgpt？"><a href="#如何注册-chatgpt？" class="headerlink" title="如何注册 chatgpt？"></a>如何注册 chatgpt？</h2><p>首先使用 chatgpt 需要翻墙，注册需要一个邮箱，还要一个能接收验证码的国外手机。这边如何翻墙就不说了，主要说下如何接收验证码。</p><h2 id="获取国外手机号接收验证码"><a href="#获取国外手机号接收验证码" class="headerlink" title="获取国外手机号接收验证码"></a>获取国外手机号接收验证码</h2><ol><li>首先访问 sms-activate.org 并注册一个账号</li><li>账号登录后，右上角个人中心有个充值选项，点进去选择支付宝充值 1 刀</li><li>充值成功后在网站首页左侧-搜索服务那个栏目搜索 openai，然后选择合适的地区，然后点击购买后就会得到一个虚拟手机号码。</li><li>在 openai 的注册页面填写刚才获得的虚拟手机号并发送验证码</li><li>在刚才购买号码的界面查看验证码</li></ol><h2 id="注册成功可以愉快的使用-chatgpt-了"><a href="#注册成功可以愉快的使用-chatgpt-了" class="headerlink" title="注册成功可以愉快的使用 chatgpt 了"></a>注册成功可以愉快的使用 chatgpt 了</h2><p>目前普通账号还是免费的，后续会收费了大概是 5 刀。</p>]]></content>
    
    
    
    <tags>
      
      <tag>openai</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vue-leaflet-chinese</title>
    <link href="/2023/03/04/mypluginsetup/"/>
    <url>/2023/03/04/mypluginsetup/</url>
    
    <content type="html"><![CDATA[<h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><p>工作之余开发的插件<br>该插件是基于 vue3 和 leaflet 开发的用于方便加载国内地图，组件 option（如 map,marker,polygon,polyline）请参照 leaflet,目前处于测试阶段<br>相关设置<code>https://leafletjs.com/reference.html#map-option</code></p><h2 id="怎么使用"><a href="#怎么使用" class="headerlink" title="怎么使用"></a>怎么使用</h2><ol><li><p><code>npm i vue-leaflet-chinese --save</code></p></li><li><p>在 main.js 处引入</p></li></ol><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs livescript"><span class="hljs-keyword">import</span> <span class="hljs-keyword">map</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue-leaflet-chinese&quot;</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&quot;vue-leaflet-chinese/dist/style.css&quot;</span><br>...<br>createApp(App).use(<span class="hljs-keyword">map</span>).mount(<span class="hljs-string">&quot;<span class="hljs-subst">#app</span>&quot;</span>)<br></code></pre></td></tr></table></figure><h2 id="地图初始化"><a href="#地图初始化" class="headerlink" title="地图初始化"></a>地图初始化</h2><h2 id="高德"><a href="#高德" class="headerlink" title="高德"></a>高德</h2><h3 id="普通地图"><a href="#普通地图" class="headerlink" title="普通地图"></a>普通地图</h3><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml">const mapoption = ref(</span><span class="hljs-template-variable">&#123;</span><br><span class="hljs-template-variable">  center: [31.41, 120.98],</span><br><span class="hljs-template-variable">  zoom: 13,</span><br><span class="hljs-template-variable">&#125;</span><span class="language-xml">)</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">LeafletMap</span> <span class="hljs-attr">:option</span>=<span class="hljs-string">&quot;mapoption&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 500px; height: 500px&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">GdNormal</span>/&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">LeafletMap</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h3 id="卫星地图"><a href="#卫星地图" class="headerlink" title="卫星地图"></a>卫星地图</h3><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml">const mapoption = ref(</span><span class="hljs-template-variable">&#123;</span><br><span class="hljs-template-variable">  center: [31.41, 120.98],</span><br><span class="hljs-template-variable">  zoom: 13,</span><br><span class="hljs-template-variable">&#125;</span><span class="language-xml">)</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">LeafletMap</span> <span class="hljs-attr">:option</span>=<span class="hljs-string">&quot;mapoption&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 500px; height: 500px&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">GdSatellite</span>/&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">LeafletMap</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h2 id="腾讯地图"><a href="#腾讯地图" class="headerlink" title="腾讯地图"></a>腾讯地图</h2><h3 id="普通地图-1"><a href="#普通地图-1" class="headerlink" title="普通地图"></a>普通地图</h3><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml">const mapoption = ref(</span><span class="hljs-template-variable">&#123;</span><br><span class="hljs-template-variable">  center: [31.41, 120.98],</span><br><span class="hljs-template-variable">  zoom: 13,</span><br><span class="hljs-template-variable">&#125;</span><span class="language-xml">)</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">LeafletMap</span> <span class="hljs-attr">:option</span>=<span class="hljs-string">&quot;mapoption&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 500px; height: 500px&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">TxNormal</span>/&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">LeafletMap</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h3 id="卫星地图-1"><a href="#卫星地图-1" class="headerlink" title="卫星地图"></a>卫星地图</h3><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml">const mapoption = ref(</span><span class="hljs-template-variable">&#123;</span><br><span class="hljs-template-variable">  center: [31.41, 120.98],</span><br><span class="hljs-template-variable">  zoom: 13,</span><br><span class="hljs-template-variable">&#125;</span><span class="language-xml">)</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">LeafletMap</span> <span class="hljs-attr">:option</span>=<span class="hljs-string">&quot;mapoption&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 500px; height: 500px&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">TxSatellite</span>/&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">LeafletMap</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h2 id="天地图"><a href="#天地图" class="headerlink" title="天地图"></a>天地图</h2><h3 id="普通地图-2"><a href="#普通地图-2" class="headerlink" title="普通地图"></a>普通地图</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">const</span> mapoption = <span class="hljs-keyword">ref</span>(&#123;<br>  center: [<span class="hljs-number">31.41</span>, <span class="hljs-number">120.98</span>],<br>  zoom: <span class="hljs-number">13</span>,<br>&#125;)<br><span class="hljs-keyword">const</span> key = <span class="hljs-keyword">ref</span>(<span class="hljs-string">&quot;your tmap token&quot;</span>) <span class="hljs-comment">//天地图必须设置key</span><br>&lt;LeafletMap  :tk=<span class="hljs-string">&quot;key&quot;</span> :option=<span class="hljs-string">&quot;mapoption&quot;</span> style=<span class="hljs-string">&quot;width: 500px; height: 500px&quot;</span>&gt;<br>&lt;TianNormal/&gt;<br>&lt;/LeafletMap&gt;<br></code></pre></td></tr></table></figure><h3 id="卫星地图-2"><a href="#卫星地图-2" class="headerlink" title="卫星地图"></a>卫星地图</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">const</span> mapoption = <span class="hljs-keyword">ref</span>(&#123;<br>  center: [<span class="hljs-number">31.41</span>, <span class="hljs-number">120.98</span>],<br>  zoom: <span class="hljs-number">13</span>,<br>&#125;)<br><span class="hljs-keyword">const</span> key = <span class="hljs-keyword">ref</span>(<span class="hljs-string">&quot;your tmap token&quot;</span>)<br>&lt;LeafletMap :tk=<span class="hljs-string">&quot;key&quot;</span> :option=<span class="hljs-string">&quot;mapoption&quot;</span> style=<span class="hljs-string">&quot;width: 500px; height: 500px&quot;</span>&gt;<br>&lt;TianSatellite/&gt;<br>&lt;/LeafletMap&gt;<br></code></pre></td></tr></table></figure><h2 id="百度地图"><a href="#百度地图" class="headerlink" title="百度地图"></a>百度地图</h2><h3 id="普通地图-3"><a href="#普通地图-3" class="headerlink" title="普通地图"></a>普通地图</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">mapoption</span> = <span class="hljs-title function_ invoke__">ref</span>(&#123;<br>  <span class="hljs-attr">center</span>: [<span class="hljs-number">31.41</span>, <span class="hljs-number">120.98</span>],<br>  <span class="hljs-attr">zoom</span>: <span class="hljs-number">13</span>,<br>  <span class="hljs-attr">crs</span>:<span class="hljs-string">&#x27;baidu&#x27;</span> //百度地图必须配置此项<br>&#125;)<br><br>&lt;LeafletMap  :tk=<span class="hljs-string">&quot;key&quot;</span> :option=<span class="hljs-string">&quot;mapoption&quot;</span> style=<span class="hljs-string">&quot;width: 500px; height: 500px&quot;</span>&gt;<br>&lt;BdNormal/&gt;<br>&lt;/LeafletMap&gt;<br></code></pre></td></tr></table></figure><h3 id="卫星地图-3"><a href="#卫星地图-3" class="headerlink" title="卫星地图"></a>卫星地图</h3><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">const</span> mapoption = <span class="hljs-keyword">ref</span>(&#123;<br>  center: [<span class="hljs-number">31.41</span>, <span class="hljs-number">120.98</span>],<br>  zoom: <span class="hljs-number">13</span>,<br>  crs:<span class="hljs-string">&#x27;baidu&#x27;</span> <span class="hljs-comment">//百度地图必须配置此项</span><br>&#125;)<br><span class="hljs-keyword">const</span> key = <span class="hljs-keyword">ref</span>(<span class="hljs-string">&quot;your tmap token&quot;</span>)<br>&lt;LeafletMap :tk=<span class="hljs-string">&quot;key&quot;</span> :option=<span class="hljs-string">&quot;mapoption&quot;</span> style=<span class="hljs-string">&quot;width: 500px; height: 500px&quot;</span>&gt;<br>&lt;BdSatellite/&gt;<br>&lt;/LeafletMap&gt;<br></code></pre></td></tr></table></figure><h2 id="marker"><a href="#marker" class="headerlink" title="marker"></a>marker</h2><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs elixir">const position = reactive(&#123;<br>    <span class="hljs-symbol">lat:</span><span class="hljs-string">&#x27;&#x27;</span>,<br>    <span class="hljs-symbol">lng:</span><span class="hljs-string">&#x27;&#x27;</span><br>&#125;)<br><br>const mapoption = ref(&#123;<br>  <span class="hljs-symbol">center:</span> [<span class="hljs-number">31.41</span>, <span class="hljs-number">120.98</span>],<br>  <span class="hljs-symbol">zoom:</span> <span class="hljs-number">13</span>,<br>&#125;)<br>&lt;<span class="hljs-title class_">LeafletMap</span>  <span class="hljs-symbol">:option=<span class="hljs-string">&quot;mapoption&quot;</span></span> style=<span class="hljs-string">&quot;width: 500px; height: 500px&quot;</span>&gt;<br>&lt;<span class="hljs-title class_">GdNormal</span>/&gt;<br>&lt;<span class="hljs-title class_">Lmarker</span> <span class="hljs-symbol">:position=<span class="hljs-string">&quot;position&quot;</span>&gt;&lt;/Lmarker&gt;</span><br>&lt;/<span class="hljs-title class_">LeafletMap</span>&gt;<br></code></pre></td></tr></table></figure><h2 id="polyline"><a href="#polyline" class="headerlink" title="polyline"></a>polyline</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">const</span> latlngs = <span class="hljs-keyword">ref</span>([<br>  [<span class="hljs-meta">31.45, 120.99</span>],<br>  [<span class="hljs-meta">31.27, 121.13</span>],<br>  [<span class="hljs-meta">31.48, 121.914</span>],<br>])<br><br><span class="hljs-keyword">const</span> mapoption = <span class="hljs-keyword">ref</span>(&#123;<br>  center: [<span class="hljs-number">31.41</span>, <span class="hljs-number">120.98</span>],<br>  zoom: <span class="hljs-number">13</span>,<br>&#125;)<br>&lt;LeafletMap  :option=<span class="hljs-string">&quot;mapoption&quot;</span> style=<span class="hljs-string">&quot;width: 500px; height: 500px&quot;</span>&gt;<br>&lt;GdNormal/&gt;<br>&lt;Lpolyline :latlngs=<span class="hljs-string">&quot;latlngs&quot;</span>&gt;&lt;/Lpolyline&gt;<br>&lt;/LeafletMap&gt;<br></code></pre></td></tr></table></figure><h2 id="polygon"><a href="#polygon" class="headerlink" title="polygon"></a>polygon</h2><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-keyword">const</span> latlngs = <span class="hljs-keyword">ref</span>([<br>  [<span class="hljs-meta">31.45, 120.99</span>],<br>  [<span class="hljs-meta">31.27, 121.13</span>],<br>  [<span class="hljs-meta">31.48, 121.914</span>],<br>])<br><br><span class="hljs-keyword">const</span> mapoption = <span class="hljs-keyword">ref</span>(&#123;<br>  center: [<span class="hljs-number">31.41</span>, <span class="hljs-number">120.98</span>],<br>  zoom: <span class="hljs-number">13</span>,<br>&#125;)<br>&lt;LeafletMap  :option=<span class="hljs-string">&quot;mapoption&quot;</span> style=<span class="hljs-string">&quot;width: 500px; height: 500px&quot;</span>&gt;<br>&lt;GdNormal/&gt;<br>&lt;Lpolygon :latlngs=<span class="hljs-string">&quot;latlngs&quot;</span>&gt;&lt;/Lpolygon&gt;<br>&lt;/LeafletMap&gt;<br></code></pre></td></tr></table></figure><h2 id="layerGroup-amp-feturegroup"><a href="#layerGroup-amp-feturegroup" class="headerlink" title="layerGroup&amp;feturegroup"></a>layerGroup&amp;feturegroup</h2><figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs dust"><span class="language-xml"></span><br><span class="language-xml">const mapoption = ref(</span><span class="hljs-template-variable">&#123;</span><br><span class="hljs-template-variable">  center: [31.41, 120.98],</span><br><span class="hljs-template-variable">  zoom: 13,</span><br><span class="hljs-template-variable">&#125;</span><span class="language-xml">)</span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">LeafletMap</span>  <span class="hljs-attr">:option</span>=<span class="hljs-string">&quot;mapoption&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 500px; height: 500px&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">GdNormal</span>/&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Lgroup</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">Lmarker</span>/&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">Lpolyline</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">Lpolyline</span>/&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">Lgroup</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Fgroup</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">Lmarker</span>/&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">Lpolyline</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">Lpolyline</span>/&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">Fgroup</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">LeafletMap</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h2 id="获取地图实例"><a href="#获取地图实例" class="headerlink" title="获取地图实例"></a>获取地图实例</h2><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs xquery">const mapref = ref()<br>const markerref = ref()<br>mapref.<span class="hljs-keyword">value</span>.$<span class="hljs-variable">$instance</span><br>markerref.<span class="hljs-keyword">value</span>.$<span class="hljs-variable">$instance</span><br>...<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">LeafletMap</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;mapref&quot;</span>  <span class="hljs-attr">:option</span>=<span class="hljs-string">&quot;mapoption&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 500px; height: 500px&quot;</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">GdNormal</span>/&gt;</span></span><br><span class="language-xml"></span><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Lgroup</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">Lmarker</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;markerref&quot;</span>/&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">Lpolyline</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">Lpolyline</span>/&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">Lgroup</span>&gt;</span></span><span class="language-xml"></span><br><span class="language-xml"></span><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">Fgroup</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">Lmarker</span>/&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">Lpolyline</span> /&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">Lpolyline</span>/&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">Fgroup</span>&gt;</span></span><span class="language-xml"></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">LeafletMap</span>&gt;</span></span><br></code></pre></td></tr></table></figure><h2 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h2><p>“click”, “dblclick”, “mouseover”, “mouseout”</p>]]></content>
    
    
    
    <tags>
      
      <tag>vue-leaflet-chinese</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vue3 leaflet undefined bug</title>
    <link href="/2023/03/01/vueleafletbug/"/>
    <url>/2023/03/01/vueleafletbug/</url>
    
    <content type="html"><![CDATA[<h2 id="问题复现"><a href="#问题复现" class="headerlink" title="问题复现"></a>问题复现</h2><p>在 vue3 中初始化 leaflet 后如果对地图实例进行监听，那么地图在添加覆盖物的时候会出现报错比如 xxx is undefined，xxx is null,缩放异常等问题。</p><h2 id="问题原理"><a href="#问题原理" class="headerlink" title="问题原理"></a>问题原理</h2><p>leaflet 在元素添加到地图上后会在 map 实例上增加一个元素实例，而然 vue3 的 proxy 会深度监听动态添加的属性，原方法中 this 指向到了 proxy 代理来的属性上导致原方法丢失。</p><h2 id="如何解决"><a href="#如何解决" class="headerlink" title="如何解决"></a>如何解决</h2><p>添加到地图对象的时候使用 toRaw 方法让元素添加到原始地图对象上并且不触发更改。<br><a href="https://cn.vuejs.org/api/reactivity-advanced.html#toraw">相关资料</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>leaflet</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>如何创建一个基于vue的npm包</title>
    <link href="/2023/02/27/npmpackagesetup/"/>
    <url>/2023/02/27/npmpackagesetup/</url>
    
    <content type="html"><![CDATA[<p>##前言<br>说来惭愧写了这么多年前端，用了这么多别人的包。最近项目中用到一个库没有 vue3 的版本所以打算在业余时间造个轮子。先来说下 npm 包的发布流程吧。后续会更新我的 npm 包的具体文档。</p><h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><h3 id="1-创建-npm-账号"><a href="#1-创建-npm-账号" class="headerlink" title="1.创建 npm 账号"></a>1.创建 npm 账号</h3><p>想要创建 npm 包首先得创建一个 npm 账号<br><code>https://www.npmjs.com/</code><br>期间可能会被墙需要挂梯子</p><h3 id="2-创建一个-vue3-项目"><a href="#2-创建一个-vue3-项目" class="headerlink" title="2.创建一个 vue3 项目"></a>2.创建一个 vue3 项目</h3><p><code>npm create vite@latest my-vue-app -- --template vue</code></p><h3 id="3-修改-vite-config-js"><a href="#3-修改-vite-config-js" class="headerlink" title="3.修改 vite.config.js"></a>3.修改 vite.config.js</h3><p>修改 vite 打包的相关配置</p><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs dts"><span class="hljs-symbol">build:</span> <span class="hljs-punctuation">&#123;</span><br><span class="hljs-symbol">  lib:</span> <span class="hljs-punctuation">&#123;</span><br><span class="hljs-symbol">    entry:</span> path.resolve(__dirname, <span class="hljs-string">&quot;src/your_enter_file_path/index.js&quot;</span>), <span class="hljs-comment">//这边的路径为npm包的入口文件</span><br><span class="hljs-symbol">    name:</span> <span class="hljs-string">&quot;your_global_name&quot;</span>,<span class="hljs-comment">//暴露的全局变量名称</span><br><span class="hljs-symbol">    fileName:</span> <span class="hljs-string">&quot;your_file_name&quot;</span>, <span class="hljs-comment">//输出的包文件名</span><br>  <span class="hljs-punctuation">&#125;</span>,<br><span class="hljs-symbol">  rollupOptions:</span> <span class="hljs-punctuation">&#123;</span><br>    <span class="hljs-comment">// 确保外部化处理那些你不想打包进库的依赖</span><br><span class="hljs-symbol">    external:</span> [<span class="hljs-string">&quot;vue&quot;</span>,],<br><span class="hljs-symbol">    output:</span> <span class="hljs-punctuation">&#123;</span><br>      <span class="hljs-comment">// 在 UMD 构建模式下为这些外部化的依赖提供一个全局变量</span><br><span class="hljs-symbol">      globals:</span> <span class="hljs-punctuation">&#123;</span><br><span class="hljs-symbol">        vue:</span> <span class="hljs-string">&quot;Vue&quot;</span>,<br>      <span class="hljs-punctuation">&#125;</span>,<br>    <span class="hljs-punctuation">&#125;</span>,<br>  <span class="hljs-punctuation">&#125;</span>,<br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><h3 id="3-修改-package-json"><a href="#3-修改-package-json" class="headerlink" title="3.修改 package.json"></a>3.修改 package.json</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-string">&quot;name&quot;</span>: <span class="hljs-string">&quot;your_npm_name&quot;</span>, <span class="hljs-regexp">//</span>这边是上传到npm的包名也就是npm i &lt;your_npm_package_name&gt; 最好不要起以@开头的包<br><span class="hljs-string">&quot;private&quot;</span>: false,<span class="hljs-regexp">//</span>需要设置非私有包 不然需要付费<br><span class="hljs-string">&quot;files&quot;</span>: [<br>    <span class="hljs-string">&quot;dist&quot;</span> <span class="hljs-regexp">//</span>打包文件所在文件夹<br>  ],<br> <span class="hljs-string">&quot;main&quot;</span>: <span class="hljs-string">&quot;./dist/your_file_name.umd.cjs&quot;</span>, <span class="hljs-regexp">//</span>   使用require规范引入会响应该对象<br> <span class="hljs-string">&quot;module&quot;</span>: <span class="hljs-string">&quot;./dist/your_file_name.js&quot;</span>,<span class="hljs-regexp">//</span> es module规范使用import能导入<br> <span class="hljs-string">&quot;types&quot;</span>: <span class="hljs-string">&quot;dist/your_file_name.d.ts&quot;</span>,<span class="hljs-regexp">//</span>如果是ts要加这个<br> <span class="hljs-string">&quot;exports&quot;</span>: &#123;<br>    <span class="hljs-string">&quot;.&quot;</span>: &#123;<br>      <span class="hljs-string">&quot;import&quot;</span>: <span class="hljs-string">&quot;./dist/your_file_name.js&quot;</span>, <span class="hljs-regexp">//</span>指定导出模块 es module<br>      <span class="hljs-string">&quot;require&quot;</span>: <span class="hljs-string">&quot;./dist/your_file_name.umd.cjs&quot;</span> <span class="hljs-regexp">//</span>指定导出模块 require模式<br>    &#125;,<br>    <span class="hljs-string">&quot;./dist/style.css&quot;</span>: <span class="hljs-string">&quot;./dist/style.css&quot;</span> <span class="hljs-regexp">//</span>导出css<br>  &#125;<br></code></pre></td></tr></table></figure><p>通过<code>npm run build</code> 会在根目录的 dist 文件夹下面出现<br>1.your_file_name.umd.cjs<br>2.your_file_name.js<br>3.style.css<br>4.your_file_name.d.ts //如果用 ts</p><h2 id="4-发布到-npm"><a href="#4-发布到-npm" class="headerlink" title="4.发布到 npm"></a>4.发布到 npm</h2><p>在项目根目录执行<br><code>npm login</code><br>输入账号密码登陆成功后执行<br><code>npm publish --access=publish</code><br>等待发布成功</p><h2 id="5-如何测试-npm-包"><a href="#5-如何测试-npm-包" class="headerlink" title="5.如何测试 npm 包"></a>5.如何测试 npm 包</h2><p>首先在 vue1 项目根目录执行<code>npm link</code><br>然后在测试 vue2 项目根目录执行 <code>npm link vue1</code></p><h2 id="完结-撒花-🎉🎉🎉"><a href="#完结-撒花-🎉🎉🎉" class="headerlink" title="完结 撒花 🎉🎉🎉"></a>完结 撒花 🎉🎉🎉</h2>]]></content>
    
    
    
    <tags>
      
      <tag>npm</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>mbp(m1芯片)前端开发环境配置</title>
    <link href="/2023/02/25/m1macsetup/"/>
    <url>/2023/02/25/m1macsetup/</url>
    
    <content type="html"><![CDATA[<h2 id="mac-必备包管理工具-homebrew"><a href="#mac-必备包管理工具-homebrew" class="headerlink" title="mac 必备包管理工具 homebrew"></a>mac 必备包管理工具 homebrew</h2><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk"><span class="hljs-regexp">/bin/</span>zsh -c <span class="hljs-string">&quot;$(curl -fsSL https://gitee.com/huwei1024/HomebrewCN/raw/master/Homebrew.sh)&quot;</span><br></code></pre></td></tr></table></figure><p>按照脚本提示安装好 homebrew 后在命令行中输入<br><code>brew -- version </code><br>提示版本信息后表示安装成功</p><h2 id="nodejs-版本管理工具-nvm"><a href="#nodejs-版本管理工具-nvm" class="headerlink" title="nodejs 版本管理工具 nvm"></a>nodejs 版本管理工具 nvm</h2><p>对于前端来说不同项目对于 node 的版本依赖会有不同所以需要一个管理 node 版本的工具来方便切换 node 环境。其实 docker 也可以实现类似需求但我更推荐使用 nvm<br>我们使用 homebrew 来安装 nvm<br><code>brew install nvm</code><br>安装完成后在我们的～/.zshrc 文件中加入</p><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs livescript"><span class="hljs-keyword">export</span> NVM_DIR=<span class="hljs-string">&quot;$HOME/.nvm&quot;</span><br>  [ -s <span class="hljs-string">&quot;/opt/homebrew/opt/nvm/nvm.sh&quot;</span> ] &amp;&amp; <span class="hljs-string">\.</span> <span class="hljs-string">&quot;/opt/homebrew/opt/nvm/nvm.sh&quot;</span>  <span class="hljs-comment"># This loads nvm</span><br>  [ -s <span class="hljs-string">&quot;/opt/homebrew/opt/nvm/etc/bash_completion.d/nvm&quot;</span> ] &amp;&amp; <span class="hljs-string">\.</span> <span class="hljs-string">&quot;/opt/homebrew/opt/nvm/etc/bash_completion.d/nvm&quot;</span>  <span class="hljs-comment"># This loads nvm bash_completion</span><br></code></pre></td></tr></table></figure><p>这样就可以在 zsh 中使用愉快的使用 node 命令或者 npm 全局安装的命令了。</p><h2 id="打造舒适的终端"><a href="#打造舒适的终端" class="headerlink" title="打造舒适的终端"></a>打造舒适的终端</h2><p>1、item2<br><code>https://iterm2.com/downloads.html</code><br>2、oh my zsh</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">sh -c <span class="hljs-string">&quot;<span class="hljs-subst">$(curl -fsSL https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)</span>&quot;</span><br><br></code></pre></td></tr></table></figure><p>3、spaceship(oh my zsh 美化)<br>4、git autojump zsh-autosuggestions zsh-syntax-highlighting（oh my zsh 插件）<br>5、fortune + cowsay 打造有趣的命令行界面<br><img src="/img/cowsay.png"></p><h2 id="vscode-插件推荐"><a href="#vscode-插件推荐" class="headerlink" title="vscode 插件推荐"></a>vscode 插件推荐</h2><ol><li> auto close tag</li><li> auto import</li><li> auto rename tag</li><li> docker</li><li> error lens</li><li> gitlens</li><li> image preview</li><li> live server</li><li> power mode</li><li>prettier</li></ol>]]></content>
    
    
    
    <tags>
      
      <tag>mbp</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>vue hooks</title>
    <link href="/2023/02/24/vuehooks/"/>
    <url>/2023/02/24/vuehooks/</url>
    
    <content type="html"><![CDATA[<h3 id="什么是-hooks？"><a href="#什么是-hooks？" class="headerlink" title="什么是 hooks？"></a>什么是 hooks？</h3><p>字面意思是”钩子“，其实是指系统运行到某一时期时，会调用被注册到该时机的回调函数。</p><h3 id="vue-中的-hooks"><a href="#vue-中的-hooks" class="headerlink" title="vue 中的 hooks"></a>vue 中的 hooks</h3><p>在 vue 中代表 hooks 的就是组合式 api。以 “use” 作为开头的，提供方法复用、组件状态管理等功能的合集。</p><h3 id="hooks-的好处"><a href="#hooks-的好处" class="headerlink" title="hooks 的好处"></a>hooks 的好处</h3><p>在 vue2 中，要抽离公共逻辑以及相关的生命周期只能用 mixin，而 mixin 的缺点是不知道方法来自哪的。<br>比如</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs stylus">mixins:<span class="hljs-selector-attr">[a,b,c]</span><br><span class="hljs-function"><span class="hljs-title">created</span><span class="hljs-params">()</span></span>&#123;<br>    let from_mixin = this<span class="hljs-selector-class">.abc</span><br>    this<span class="hljs-selector-class">.foo</span>()<br>    this<span class="hljs-selector-class">.bar</span>() <span class="hljs-comment">//我们并不知道变量abc以及foo，bar方法是从哪个mixin调用的，如果mixin数量众多，可能会引起变量重名等问题，那将会是可怕的。</span><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="相比-vue2，组合式-api-的好处"><a href="#相比-vue2，组合式-api-的好处" class="headerlink" title="相比 vue2，组合式 api 的好处"></a>相比 vue2，组合式 api 的好处</h3><p>vue2 的 class 写法导致代码块是分散的，比如定义方法，以及生命周期以及各种 this 指向问题。这在单页应用中如果功能复杂并且引入了很多 mixin 的话可读性非常差。<br>vue3 中使用函数式编程配合组合式 api 可以让代码逻辑更加清晰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//首先以vue2为例</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span>&#123;<br>    <span class="hljs-attr">mixins</span>: [amixins],<br>    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-keyword">return</span>&#123;<br>            <span class="hljs-attr">a</span>:<span class="hljs-number">1</span>,<br>            <span class="hljs-attr">b</span>:<span class="hljs-number">2</span><br>        &#125;<br>    &#125;<br>    <span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">foo</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">c</span>)<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">bar</span>()<br>    &#125;,<br>    <span class="hljs-attr">method</span>:&#123;<br>        <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>)&#123;<br>            <span class="hljs-keyword">let</span> d = <span class="hljs-variable language_">this</span>.<span class="hljs-property">a</span>+<span class="hljs-variable language_">this</span>.<span class="hljs-property">b</span><br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-comment">//vue3组合式api写法</span><br>const a= <span class="hljs-built_in">ref</span>(<span class="hljs-number">1</span>)<br>const <span class="hljs-selector-tag">b</span> = <span class="hljs-built_in">ref</span>(<span class="hljs-number">2</span>)<br>const &#123;c,bar&#125; = <span class="hljs-built_in">useHooks</span>()<br>const foo = ()=&gt;&#123;<br>    let d = <span class="hljs-selector-tag">a</span>.value+<span class="hljs-selector-tag">b</span><span class="hljs-selector-class">.value</span><br>&#125;<br><span class="hljs-function"><span class="hljs-title">onMounted</span><span class="hljs-params">(()</span></span>=&gt;&#123;<br>    <span class="hljs-built_in">foo</span>(c)<br>    <span class="hljs-built_in">bar</span>()<br>&#125;)<br><br></code></pre></td></tr></table></figure><p>结果一目了然</p>]]></content>
    
    
    
    <tags>
      
      <tag>vue</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>扩展插件的ts类型</title>
    <link href="/2023/02/22/ts/"/>
    <url>/2023/02/22/ts/</url>
    
    <content type="html"><![CDATA[<h2 id="为插件配置-ts-定义"><a href="#为插件配置-ts-定义" class="headerlink" title="为插件配置 ts 定义"></a>为插件配置 ts 定义</h2><p>在日常开发中会碰到一些仓库没有定义 ts 类型。<br>以 vite 为例，在 src 目录新建 xxx.d.ts</p><figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs fsharp">declare <span class="hljs-keyword">module</span> <span class="hljs-string">&quot;foo&quot;</span> &#123;<br>  <span class="hljs-keyword">namespace</span> <span class="hljs-keyword">bar</span> &#123;<br>    <span class="hljs-keyword">function</span> xxx(<span class="hljs-keyword">type</span><span class="hljs-operator">:</span> <span class="hljs-type">string</span>, opt<span class="hljs-operator">?</span>)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>假如碰到部分插件没有 ts 定义，但它是基于其他插件的，其他插件有 ts 定义。<br>这边以 jquery 为例子，假设有个插件为$(“foo”).bar()<br>我们需要为$对象扩展 bar 的定义,只需要在 xxx.d.ts 添加</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">declare</span> <span class="hljs-variable language_">global</span> &#123;<br>  <span class="hljs-keyword">interface</span> <span class="hljs-title class_">JQuery</span> &#123; <span class="hljs-comment">//这边的JQuery要和Jquery.d.ts文件里定义的名字一样</span><br>    <span class="hljs-title function_">bar</span>(arg?: <span class="hljs-built_in">any</span>): <span class="hljs-title class_">JQuery</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    
    <tags>
      
      <tag>typescript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>网易云会员</title>
    <link href="/2023/02/22/cloudmusic/"/>
    <url>/2023/02/22/cloudmusic/</url>
    
    <content type="html"><![CDATA[<h2 id="每月网抑云时间"><a href="#每月网抑云时间" class="headerlink" title="每月网抑云时间"></a>每月网抑云时间</h2><p>无声小丑送您一张会员礼品卡，快来看看 TA 的祝福吧! <a href="https://music.163.com/prime/m/gift-receive?d=o6u3LtehT1taCMQ0aarfLw&amp;p=yXrEarHg3gY_MfTsvXh2Gh74Yod84NP-AmfV-ZPy0av_Psw6x5g63kZTDdoKyuXIr05xMebflkPcM9A0_sZM8187rU7M1TGIbQXCCBInUJM&amp;userid=70753581&amp;app_version=8.9.10&amp;dlt=0846">https://music.163.com/prime/m/gift-receive?d=o6u3LtehT1taCMQ0aarfLw&amp;p=yXrEarHg3gY_MfTsvXh2Gh74Yod84NP-AmfV-ZPy0av_Psw6x5g63kZTDdoKyuXIr05xMebflkPcM9A0_sZM8187rU7M1TGIbQXCCBInUJM&amp;userid=70753581&amp;app_version=8.9.10&amp;dlt=0846</a> (@网易云音乐)</p>]]></content>
    
    
    
    <tags>
      
      <tag>网易云</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
